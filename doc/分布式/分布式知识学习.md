# 分布式知识学习

## 1. CAP理论 分布式理论基础

* C 数据一致性，
* A 服务可用性 读写请求在一定时间内得到相应，可终止
* P 分区容错性 在网络分区的情况下，被分隔节点仍能对外服务
* 分布式系统理论上不能选择CA架构，只能CP，AP，分布式系统一定存在P分区容错

## 2. Base理论

cap理论的一种妥协，base理论降低了发生分区容错时对可用性和一致性的要求

* 基本可用，允许可用性降低（可能响应延长，可能服务降级）
* 软状态：允许系统中的数据存在中间状态，并认为中间状态不会影响系统整体的可用性
* 最终一致性：节点数据同步可以存在延时，但一定的期限后必须达成数据的一致，状态变为最终状态

## 3. 多种一致性模型

* 强一致性 更新完之后会立即读到更新的数据 C
* 弱一致性 不承诺立即会读到最新写入的值，也不会具体的承诺多久之后可以读到，用户读到更新数据的这段时间称为不一致时间窗口
* 最终一致性 弱一致性特例
* 因果一致性 因果关系操作顺序需要得到保证 转账例子
* 会话一致性 在同一个会话中读到最新值

## 4. Quorum，WARO机制

* WARO一种简单的副本控制协议，写操作时，只有所有的副本都更新成功，这次写操作才算成功，否则视为失败，
  优先保证读，任何节点的数据都是最新数据，牺牲了更新服务的可用性
* Quorum，10个副本，三个副本更新成功了，就算更新成功了，读的时候要读8个节点，在更新数据的时候更新版本号，版本号最大的就是最新数据

## 5. paxos算法

[分布式系列文章——Paxos算法原理与推导](https://www.cnblogs.com/linbingdong/p/6253479.html)

* 是强一致性，所有节点数据达成一致，paxos只是一种算法思想，是一种协议
* raft，zab算法是paxos算法的演进
* Base paxos，multi paxos，fast paxos 都是思想
* 共识算法
* 解决指令一致性
* proposer提议者 acceptor接受者 learners记录员，每一个节点可以拥有三种角色

## 6. raft算法

* paxos的工程化实现
* 
